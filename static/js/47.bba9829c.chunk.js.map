{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2.entry.js"],"names":["InfiniteScroll","i","n","this","ionInfinite","thrPx","thrPc","didFire","isBusy","isLoading","threshold","disabled","position","onScroll","scrollEl","canStart","t","el","offsetHeight","e","scrollTop","r","scrollHeight","o","s","emit","prototype","thresholdChanged","lastIndexOf","parseFloat","disabledChanged","enableScrollEvents","connectedCallback","label","closest","getScrollElement","console","error","sent","clientHeight","disconnectedCallback","undefined","complete","requestAnimationFrame","addEventListener","removeEventListener","render","class","Object","defineProperty","get","enumerable","configurable","style","InfiniteScrollContent","componentDidLoad","loadingSpinner","name","loadingText","innerHTML","ios","md"],"mappings":"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","file":"static/js/47.bba9829c.chunk.js","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { r as registerInstance, e as createEvent, c as writeTask, f as readTask, h, i as getElement, H as Host } from \"./index-7a8b7a1c.js\";\nimport { b as getIonMode, c as config } from \"./ionic-global-63a97a32.js\";\nimport { s as sanitizeDOMString } from \"./index-9e3fe806.js\";\nvar infiniteScrollCss = \"ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}\";\n\nvar InfiniteScroll = function () {\n  function i(i) {\n    var n = this;\n    registerInstance(this, i);\n    this.ionInfinite = createEvent(this, \"ionInfinite\", 7);\n    this.thrPx = 0;\n    this.thrPc = 0;\n    this.didFire = false;\n    this.isBusy = false;\n    this.isLoading = false;\n    this.threshold = \"15%\";\n    this.disabled = false;\n    this.position = \"bottom\";\n\n    this.onScroll = function () {\n      var i = n.scrollEl;\n\n      if (!i || !n.canStart()) {\n        return 1;\n      }\n\n      var t = n.el.offsetHeight;\n\n      if (t === 0) {\n        return 2;\n      }\n\n      var e = i.scrollTop;\n      var r = i.scrollHeight;\n      var o = i.offsetHeight;\n      var s = n.thrPc !== 0 ? o * n.thrPc : n.thrPx;\n      var l = n.position === \"bottom\" ? r - t - e - s - o : e - t - s;\n\n      if (l < 0) {\n        if (!n.didFire) {\n          n.isLoading = true;\n          n.didFire = true;\n          n.ionInfinite.emit();\n          return 3;\n        }\n      } else {\n        n.didFire = false;\n      }\n\n      return 4;\n    };\n  }\n\n  i.prototype.thresholdChanged = function () {\n    var i = this.threshold;\n\n    if (i.lastIndexOf(\"%\") > -1) {\n      this.thrPx = 0;\n      this.thrPc = parseFloat(i) / 100;\n    } else {\n      this.thrPx = parseFloat(i);\n      this.thrPc = 0;\n    }\n  };\n\n  i.prototype.disabledChanged = function () {\n    var i = this.disabled;\n\n    if (i) {\n      this.isLoading = false;\n      this.isBusy = false;\n    }\n\n    this.enableScrollEvents(!i);\n  };\n\n  i.prototype.connectedCallback = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var i, n;\n      var t = this;\n      return __generator(this, function (e) {\n        switch (e.label) {\n          case 0:\n            i = this.el.closest(\"ion-content\");\n\n            if (!i) {\n              console.error(\"<ion-infinite-scroll> must be used inside an <ion-content>\");\n              return [2];\n            }\n\n            n = this;\n            return [4, i.getScrollElement()];\n\n          case 1:\n            n.scrollEl = e.sent();\n            this.thresholdChanged();\n            this.disabledChanged();\n\n            if (this.position === \"top\") {\n              writeTask(function () {\n                if (t.scrollEl) {\n                  t.scrollEl.scrollTop = t.scrollEl.scrollHeight - t.scrollEl.clientHeight;\n                }\n              });\n            }\n\n            return [2];\n        }\n      });\n    });\n  };\n\n  i.prototype.disconnectedCallback = function () {\n    this.enableScrollEvents(false);\n    this.scrollEl = undefined;\n  };\n\n  i.prototype.complete = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var i, n;\n      var t = this;\n      return __generator(this, function (e) {\n        i = this.scrollEl;\n\n        if (!this.isLoading || !i) {\n          return [2];\n        }\n\n        this.isLoading = false;\n\n        if (this.position === \"top\") {\n          this.isBusy = true;\n          n = i.scrollHeight - i.scrollTop;\n          requestAnimationFrame(function () {\n            readTask(function () {\n              var e = i.scrollHeight;\n              var r = e - n;\n              requestAnimationFrame(function () {\n                writeTask(function () {\n                  i.scrollTop = r;\n                  t.isBusy = false;\n                });\n              });\n            });\n          });\n        }\n\n        return [2];\n      });\n    });\n  };\n\n  i.prototype.canStart = function () {\n    return !this.disabled && !this.isBusy && !!this.scrollEl && !this.isLoading;\n  };\n\n  i.prototype.enableScrollEvents = function (i) {\n    if (this.scrollEl) {\n      if (i) {\n        this.scrollEl.addEventListener(\"scroll\", this.onScroll);\n      } else {\n        this.scrollEl.removeEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  };\n\n  i.prototype.render = function () {\n    var i;\n    var n = getIonMode(this);\n    var t = this.disabled;\n    return h(Host, {\n      class: (i = {}, i[n] = true, i[\"infinite-scroll-loading\"] = this.isLoading, i[\"infinite-scroll-enabled\"] = !t, i)\n    });\n  };\n\n  Object.defineProperty(i.prototype, \"el\", {\n    get: function get() {\n      return getElement(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(i, \"watchers\", {\n    get: function get() {\n      return {\n        threshold: [\"thresholdChanged\"],\n        disabled: [\"disabledChanged\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return i;\n}();\n\nInfiniteScroll.style = infiniteScrollCss;\nvar infiniteScrollContentIosCss = \"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-ios .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-small-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}\";\nvar infiniteScrollContentMdCss = \"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-md .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-small-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}\";\n\nvar InfiniteScrollContent = function () {\n  function i(i) {\n    registerInstance(this, i);\n  }\n\n  i.prototype.componentDidLoad = function () {\n    if (this.loadingSpinner === undefined) {\n      var i = getIonMode(this);\n      this.loadingSpinner = config.get(\"infiniteLoadingSpinner\", config.get(\"spinner\", i === \"ios\" ? \"lines\" : \"crescent\"));\n    }\n  };\n\n  i.prototype.render = function () {\n    var i;\n    var n = getIonMode(this);\n    return h(Host, {\n      class: (i = {}, i[n] = true, i[\"infinite-scroll-content-\" + n] = true, i)\n    }, h(\"div\", {\n      class: \"infinite-loading\"\n    }, this.loadingSpinner && h(\"div\", {\n      class: \"infinite-loading-spinner\"\n    }, h(\"ion-spinner\", {\n      name: this.loadingSpinner\n    })), this.loadingText && h(\"div\", {\n      class: \"infinite-loading-text\",\n      innerHTML: sanitizeDOMString(this.loadingText)\n    })));\n  };\n\n  return i;\n}();\n\nInfiniteScrollContent.style = {\n  ios: infiniteScrollContentIosCss,\n  md: infiniteScrollContentMdCss\n};\nexport { InfiniteScroll as ion_infinite_scroll, InfiniteScrollContent as ion_infinite_scroll_content };"],"sourceRoot":""}